#include<iostream>
#include<cstdlib>
using namespace std;

char matrix[5][5], flag[26];

void FormatKey(string key)
{
    int x_ind=0, y_ind=0;
    for(int i=0;i<key.length();i++)
    {
        if(key[i]=='j') key[i]='i';

        if(!flag[key[i]-97])
            matrix[x_ind][y_ind++] = key[i], flag[key[i]-97]=1;

        if(y_ind==5)    x_ind++, y_ind=0;
    }

    for(int i=0;i<26;i++)
    {
        if(i==9)    continue;
        if(key[i]=='j') key[i]='i';
        if(!flag[i])    matrix[x_ind][y_ind++] = i+97, flag[i]=1 ;

        if(y_ind==5)    x_ind++, y_ind=0;
    }
}

void FormatMessage(string message)
{
    for(int i=0;i<message.length();i++)
        if(message[i] == ' ')
            message = message.replace(i, 1, "");

    for(int i=1;i<message.length();i++)
         if(message[i-1] == message[i])
            message = message.insert(i, "x"), i++;

}

void Encrypt(string message)
{
    
}

int main()
{
	string message, keys[100];
	int  num_of_keys;
	cout<<"Enter the number of keys:";
	cin>>num_of_keys;
	cout<<"Enter the keys:";
	for(int i=0;i<num_of_keys;i++)
	    gets(keys[i]);
    cout<<"Enter a message to be encrypted: ";
    gets(message);
	FormatKey(keys[0]);
	for(int i=0;i<5;i++){
	    for(int j=0;j<5;j++)
	        cout<<matrix[i][j]<<" ";
	    cout<<endl;
	}

	FormatMessage(message);
	cout<<message;
	return 0;
}